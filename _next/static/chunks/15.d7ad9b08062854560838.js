(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15,20],{"4HPa":function(e,t,r){(function(t){const{Transform:n}=r("qAFR");e.exports=e=>class r extends n{constructor(t,r,n,o,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=o,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(o){n=o}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(r){t=r}e(t)}update(e,r){if(!t.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return t.isBuffer(e)||(e=t.from(e,r)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new r(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r("HDXh").Buffer)},E9FP:function(e,t){const r="Impossible case. Please create issue.",n="The tweak was out of range or the resulted private key is invalid",o="The tweak was out of range or equal to zero",i="Unknow error on context randomization",a="Private Key is invalid",s="Public Key could not be parsed",c="Public Key serialization error",u="The sum of the public keys is not valid",f="Signature could not be parsed",l="The nonce generation function failed, or the private key was invalid",d="Public key could not be recover",h="Scalar was invalid (zero or overflow)";function p(e,t){if(!e)throw new Error(t)}function g(e,t,r){if(p(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;p(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;p(t.length===r,n)}}function y(e){p("Boolean"===v(e),"Expected compressed to be a Boolean")}function m(e=(e=>new Uint8Array(e)),t){return"function"===typeof e&&(e=e(t)),g("output",e,t),e}function v(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){switch(p(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&g("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(i)}},privateKeyVerify:t=>(g("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(g("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakAdd(t,r){switch(g("private key",t,32),g("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(n)}},privateKeyTweakMul(t,r){switch(g("private key",t,32),g("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(o)}},publicKeyVerify:t=>(g("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(g("private key",t,32),y(r),n=m(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(a);case 2:throw new Error(c)}},publicKeyConvert(t,r=!0,n){switch(g("public key",t,[33,65]),y(r),n=m(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(c)}},publicKeyNegate(t,n=!0,o){switch(g("public key",t,[33,65]),y(n),o=m(o,n?33:65),e.publicKeyNegate(o,t)){case 0:return o;case 1:throw new Error(s);case 2:throw new Error(r);case 3:throw new Error(c)}},publicKeyCombine(t,r=!0,n){p(Array.isArray(t),"Expected public keys to be an Array"),p(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)g("public key",e,[33,65]);switch(y(r),n=m(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(u);case 3:throw new Error(c)}},publicKeyTweakAdd(t,r,o=!0,i){switch(g("public key",t,[33,65]),g("tweak",r,32),y(o),i=m(i,o?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(s);case 2:throw new Error(n)}},publicKeyTweakMul(t,r,n=!0,i){switch(g("public key",t,[33,65]),g("tweak",r,32),y(n),i=m(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(s);case 2:throw new Error(o)}},signatureNormalize(t){switch(g("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(f)}},signatureExport(t,n){g("signature",t,64);const o={output:n=m(n,72),outputlen:72};switch(e.signatureExport(o,t)){case 0:return n.slice(0,o.outputlen);case 1:throw new Error(f);case 2:throw new Error(r)}},signatureImport(t,n){switch(g("signature",t),n=m(n,64),e.signatureImport(n,t)){case 0:return n;case 1:throw new Error(f);case 2:throw new Error(r)}},ecdsaSign(t,n,o={},i){g("message",t,32),g("private key",n,32),p("Object"===v(o),"Expected options to be an Object"),void 0!==o.data&&g("options.data",o.data),void 0!==o.noncefn&&p("Function"===v(o.noncefn),"Expected options.noncefn to be a Function");const a={signature:i=m(i,64),recid:null};switch(e.ecdsaSign(a,t,n,o.data,o.noncefn)){case 0:return a;case 1:throw new Error(l);case 2:throw new Error(r)}},ecdsaVerify(t,r,n){switch(g("signature",t,64),g("message",r,32),g("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(f);case 2:throw new Error(s)}},ecdsaRecover(t,n,o,i=!0,a){switch(g("signature",t,64),p("Number"===v(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),g("message",o,32),y(i),a=m(a,i?33:65),e.ecdsaRecover(a,t,n,o)){case 0:return a;case 1:throw new Error(f);case 2:throw new Error(d);case 3:throw new Error(r)}},ecdh(t,r,n={},o){switch(g("public key",t,[33,65]),g("private key",r,32),p("Object"===v(n),"Expected options to be an Object"),void 0!==n.data&&g("options.data",n.data),void 0!==n.hashfn?(p("Function"===v(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&g("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&g("options.ybuf",n.ybuf,32),g("output",o)):o=m(o,32),e.ecdh(o,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return o;case 1:throw new Error(s);case 2:throw new Error(h)}}})},FLwF:function(e,t,r){"use strict";(function(t){var n=r("IhPl"),o=r("Pnug"),i=r("Unkg"),a=function(e){return 32===e.length&&n.privateKeyVerify(Uint8Array.from(e))};e.exports={privateKeyVerify:a,privateKeyExport:function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=o.privateKeyExport(e,t);return i.privateKeyExport(e,r,t)},privateKeyImport:function(e){if(null!==(e=i.privateKeyImport(e))&&32===e.length&&a(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate:function(e){return t.from(n.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse:function(e){if(32!==e.length)throw new Error("private key length is invalid");return t.from(o.privateKeyModInverse(Uint8Array.from(e)))},privateKeyTweakAdd:function(e,r){return t.from(n.privateKeyTweakAdd(Uint8Array.from(e),r))},privateKeyTweakMul:function(e,r){return t.from(n.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r)))},publicKeyCreate:function(e,r){return t.from(n.publicKeyCreate(Uint8Array.from(e),r))},publicKeyConvert:function(e,r){return t.from(n.publicKeyConvert(Uint8Array.from(e),r))},publicKeyVerify:function(e){return(33===e.length||65===e.length)&&n.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd:function(e,r,o){return t.from(n.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(r),o))},publicKeyTweakMul:function(e,r,o){return t.from(n.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r),o))},publicKeyCombine:function(e,r){var o=[];return e.forEach((function(e){o.push(Uint8Array.from(e))})),t.from(n.publicKeyCombine(o,r))},signatureNormalize:function(e){return t.from(n.signatureNormalize(Uint8Array.from(e)))},signatureExport:function(e){return t.from(n.signatureExport(Uint8Array.from(e)))},signatureImport:function(e){return t.from(n.signatureImport(Uint8Array.from(e)))},signatureImportLax:function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=i.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return o.signatureImport(t)},sign:function(e,r,o){if(null===o)throw new TypeError("options should be an Object");var i=void 0;if(o){if(i={},null===o.data)throw new TypeError("options.data should be a Buffer");if(o.data){if(32!==o.data.length)throw new RangeError("options.data length is invalid");i.data=new Uint8Array(o.data)}if(null===o.noncefn)throw new TypeError("options.noncefn should be a Function");o.noncefn&&(i.noncefn=function(e,r,n,i,a){var s=null!=n?t.from(n):null,c=null!=i?t.from(i):null,u=t.from("");return o.noncefn&&(u=o.noncefn(t.from(e),t.from(r),s,c,a)),Uint8Array.from(u)})}var a=n.ecdsaSign(Uint8Array.from(e),Uint8Array.from(r),i);return{signature:t.from(a.signature),recovery:a.recid}},verify:function(e,t,r){return n.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover:function(e,r,o,i){return t.from(n.ecdsaRecover(Uint8Array.from(r),o,Uint8Array.from(e),i))},ecdh:function(e,r){return t.from(n.ecdh(Uint8Array.from(e),Uint8Array.from(r),{}))},ecdhUnsafe:function(e,r,n){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==r.length)throw new RangeError("private key length is invalid");return t.from(o.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(r),n))}}}).call(this,r("HDXh").Buffer)},I164:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Edxu");t.getRandomBytes=function(e){return new Promise((function(t,r){n(e,(function(e,n){e?r(e):t(n)}))}))},t.getRandomBytesSync=function(e){return n(e)}},IhPl:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("uIfa"),a=r("I164");t.createPrivateKey=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,a.getRandomBytes(32)];case 1:return e=t.sent(),i.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},t.createPrivateKeySync=function(){for(;;){var e=a.getRandomBytesSync(32);if(i.privateKeyVerify(e))return e}},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("uIfa"))},JBbW:function(e,t,r){(function(t){const n=r("b94t");function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!==(128&e)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const r=t.alloc(e);for(let t=0;t<e;++t)r[t]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return r},o.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=o}).call(this,r("HDXh").Buffer)},JByn:function(e,t,r){const n=new(0,r("MzeL").ec)("secp256k1"),o=n.curve,i=o.n.constructor;function a(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new i(t);if(r.cmp(o.p)>=0)return null;r=r.toRed(o.red);let a=r.redSqr().redIMul(r).redIAdd(o.b).redSqrt();return 3===e!==a.isOdd()&&(a=a.redNeg()),n.keyPair({pub:{x:r,y:a}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let a=new i(t),s=new i(r);if(a.cmp(o.p)>=0||s.cmp(o.p)>=0)return null;if(a=a.toRed(o.red),s=s.toRed(o.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;const c=a.redSqr().redIMul(a);return s.redSqr().redISub(c.redIAdd(o.b)).isZero()?n.keyPair({pub:{x:a,y:s}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,t){const r=t.encode(null,33===e.length);for(let n=0;n<e.length;++n)e[n]=r[n]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new i(e);return t.cmp(o.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new i(e),r=o.n.sub(t).umod(o.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new i(t);if(r.cmp(o.n)>=0)return 1;if(r.iadd(new i(e)),r.cmp(o.n)>=0&&r.isub(o.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new i(t);if(r.cmp(o.n)>=0||r.isZero())return 1;r.imul(new i(e)),r.cmp(o.n)>=0&&(r=r.umod(o.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===a(e)?1:0,publicKeyCreate(e,t){const r=new i(t);if(r.cmp(o.n)>=0||r.isZero())return 1;return s(e,n.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=a(t);if(null===r)return 1;return s(e,r.getPublic()),0},publicKeyNegate(e,t){const r=a(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),s(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let o=0;o<t.length;++o)if(r[o]=a(t[o]),null===r[o])return 1;let n=r[0].getPublic();for(let o=1;o<r.length;++o)n=n.add(r[o].pub);return n.isInfinity()?2:(s(e,n),0)},publicKeyTweakAdd(e,t,r){const n=a(t);if(null===n)return 1;if((r=new i(r)).cmp(o.n)>=0)return 2;const c=n.getPublic().add(o.g.mul(r));return c.isInfinity()?2:(s(e,c),0)},publicKeyTweakMul(e,t,r){const n=a(t);if(null===n)return 1;if((r=new i(r)).cmp(o.n)>=0||r.isZero())return 2;return s(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new i(e.subarray(0,32)),r=new i(e.subarray(32,64));return t.cmp(o.n)>=0||r.cmp(o.n)>=0?1:(1===r.cmp(n.nh)&&e.set(o.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new i(r).cmp(o.n)>=0)return 1;if(new i(n).cmp(o.n)>=0)return 1;const{output:a}=e;let s=a.subarray(4,37);s[0]=0,s.set(r,1);let c=33,u=0;for(;c>1&&0===s[u]&&!(128&s[u+1]);--c,++u);if(s=s.subarray(u),128&s[0])return 1;if(c>1&&0===s[0]&&!(128&s[1]))return 1;let f=a.subarray(39,72);f[0]=0,f.set(n,1);let l=33,d=0;for(;l>1&&0===f[d]&&!(128&f[d+1]);--l,++d);return f=f.subarray(d),128&f[0]||l>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+c+l,a[0]=48,a[1]=e.outputlen-2,a[2]=2,a[3]=s.length,a.set(s,4),a[4+c]=2,a[5+c]=f.length,a.set(f,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let a=t.subarray(4,4+r);if(33===a.length&&0===a[0]&&(a=a.subarray(1)),a.length>32)return 1;let s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let c=new i(a);c.cmp(o.n)>=0&&(c=new i(0));let u=new i(t.subarray(6+r));return u.cmp(o.n)>=0&&(u=new i(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,a,s){if(s){const e=s;s=n=>{const o=e(t,r,null,a,n);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new i(o)}}const c=new i(r);if(c.cmp(o.n)>=0||c.isZero())return 1;let u;try{u=n.sign(t,r,{canonical:!0,k:s,pers:a})}catch(f){return 1}return e.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),e.recid=u.recoveryParam,0},ecdsaVerify(e,t,r){const s={r:e.subarray(0,32),s:e.subarray(32,64)},c=new i(s.r),u=new i(s.s);if(c.cmp(o.n)>=0||u.cmp(o.n)>=0)return 1;if(1===u.cmp(n.nh)||c.isZero()||u.isZero())return 3;const f=a(r);if(null===f)return 2;const l=f.getPublic();return n.verify(t,s,l)?0:3},ecdsaRecover(e,t,r,a){const c={r:t.slice(0,32),s:t.slice(32,64)},u=new i(c.r),f=new i(c.s);if(u.cmp(o.n)>=0||f.cmp(o.n)>=0)return 1;if(u.isZero()||f.isZero())return 2;let l;try{l=n.recoverPubKey(a,c,r)}catch(d){return 2}return s(e,l),0},ecdh(e,t,r,s,c,u,f){const l=a(t);if(null===l)return 1;const d=new i(r);if(d.cmp(o.n)>=0||d.isZero())return 2;const h=l.getPublic().mul(d);if(void 0===c){const t=h.encode(null,!0),r=n.hash().update(t).digest();for(let n=0;n<32;++n)e[n]=r[n]}else{u||(u=new Uint8Array(32));const t=h.getX().toArray("be",32);for(let e=0;e<32;++e)u[e]=t[e];f||(f=new Uint8Array(32));const r=h.getY().toArray("be",32);for(let e=0;e<32;++e)f[e]=r[e];const n=c(u,f,s);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},KJGB:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n,o,i,a,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},c=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},u=function(e){return e&&e!==o&&c("Expected '"+e+"' instead of '"+o+"'"),o=i.charAt(n),n+=1,o},f=function(){var e,t="";for("-"===o&&(t="-",u("-"));o>="0"&&o<="9";)t+=o,u();if("."===o)for(t+=".";u()&&o>="0"&&o<="9";)t+=o;if("e"===o||"E"===o)for(t+=o,u(),"-"!==o&&"+"!==o||(t+=o,u());o>="0"&&o<="9";)t+=o,u();if(e=+t,isFinite(e))return e;c("Bad number")},l=function(){var e,t,r,n="";if('"'===o)for(;u();){if('"'===o)return u(),n;if("\\"===o)if(u(),"u"===o){for(r=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof s[o])break;n+=s[o]}else n+=o}c("Bad string")},d=function(){for(;o&&o<=" ";)u()};a=function(){switch(d(),o){case"{":return function(){var e,t={};if("{"===o){if(u("{"),d(),"}"===o)return u("}"),t;for(;o;){if(e=l(),d(),u(":"),Object.hasOwnProperty.call(t,e)&&c('Duplicate key "'+e+'"'),t[e]=a(),d(),"}"===o)return u("}"),t;u(","),d()}}c("Bad object")}();case"[":return function(){var e=[];if("["===o){if(u("["),d(),"]"===o)return u("]"),e;for(;o;){if(e.push(a()),d(),"]"===o)return u("]"),e;u(","),d()}}c("Bad array")}();case'"':return l();case"-":return f();default:return o>="0"&&o<="9"?f():function(){switch(o){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}c("Unexpected '"+o+"'")}()}};var h,p,g,y=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function v(e){return y.lastIndex=0,y.test(e)?'"'+e.replace(y,(function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}var w="undefined"!=typeof JSON?JSON:{parse:function(e,t){var r;return i=e,n=0,o=" ",r=a(),d(),o&&c("Syntax error"),"function"==typeof t?function e(r,n){var o,i,a=r[n];if(a&&"object"==typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=e(a,o))?a[o]=i:delete a[o]);return t.call(r,n,a)}({"":r},""):r},stringify:function(e,t,r){var n;if(h="",p="","number"==typeof r)for(n=0;n<r;n+=1)p+=" ";else"string"==typeof r&&(p=r);if(g=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,r){var n,o,i,a,s,c=h,u=r[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof g&&(u=g.call(r,t,u)),typeof u){case"string":return v(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(h+=p,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;n<a;n+=1)s[n]=e(n,u)||"null";return i=0===s.length?"[]":h?"[\n"+h+s.join(",\n"+h)+"\n"+c+"]":"["+s.join(",")+"]",h=c,i}if(g&&"object"==typeof g)for(a=g.length,n=0;n<a;n+=1)"string"==typeof(o=g[n])&&(i=e(o,u))&&s.push(v(o)+(h?": ":":")+i);else for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i=e(o,u))&&s.push(v(o)+(h?": ":":")+i);return i=0===s.length?"{}":h?"{\n"+h+s.join(",\n"+h)+"\n"+c+"}":"{"+s.join(",")+"}",h=c,i}}("",{"":e})}},b=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var n,o="boolean"==typeof t.cycles&&t.cycles,i=t.replacer||function(e,t){return t},a=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),s=[];return function e(t,n,c,u){var f=r?"\n"+new Array(u+1).join(r):"",l=r?": ":":";if(c&&c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),void 0!==(c=i.call(t,n,c))){if("object"!=typeof c||null===c)return w.stringify(c);if(_(c)){for(var d=[],h=0;h<c.length;h++){var p=e(c,h,c[h],u+1)||w.stringify(null);d.push(f+r+p)}return"["+d.join(",")+f+"]"}if(-1!==s.indexOf(c)){if(o)return w.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(c);var g=k(c).sort(a&&a(c));for(d=[],h=0;h<g.length;h++){var y=e(c,n=g[h],c[n],u+1);if(y){var m=w.stringify(n)+l+y;d.push(f+r+m)}}return s.splice(s.indexOf(c),1),"{"+d.join(",")+f+"}"}}({"":e},"",e,0)},_=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},k=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},Pnug:function(e,t,r){"use strict";(function(e){var n=r("OZ/i"),o=new(0,r("MzeL").ec)("secp256k1"),i=o.curve;t.privateKeyExport=function(e,t){var r=new n(e);if(r.ucmp(i.n)>=0)throw new Error("couldn't export to DER format");var s=o.g.mul(r);return a(s.getX(),s.getY(),t)},t.privateKeyModInverse=function(t){var r=new n(t);if(r.ucmp(i.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(i.n).toArrayLike(e,"be",32)},t.signatureImport=function(t){var r=new n(t.r);r.ucmp(i.n)>=0&&(r=new n(0));var o=new n(t.s);return o.ucmp(i.n)>=0&&(o=new n(0)),e.concat([r.toArrayLike(e,"be",32),o.toArrayLike(e,"be",32)])},t.ecdhUnsafe=function(e,t,r){var s=o.keyFromPublic(e),c=new n(t);if(c.ucmp(i.n)>=0||c.isZero())throw new Error("scalar was invalid (zero or overflow)");var u=s.pub.mul(c);return a(u.getX(),u.getY(),r)};var a=function(t,r,n){var o=void 0;return n?((o=e.alloc(33))[0]=r.isOdd()?3:2,t.toArrayLike(e,"be",32).copy(o,1)):((o=e.alloc(65))[0]=4,t.toArrayLike(e,"be",32).copy(o,1),r.toArrayLike(e,"be",32).copy(o,33)),o}}).call(this,r("HDXh").Buffer)},UWJ2:function(e,t){e.exports=function(e){if("string"!==typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},Unkg:function(e,t,r){"use strict";(function(e){var r=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(t,o,i){var a=e.from(i?r:n);return t.copy(a,i?8:9),o.copy(a,i?181:214),a},t.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var o=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+o||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},t.signatureImportLax=function(t){var r=e.alloc(32,0),n=e.alloc(32,0),o=t.length,i=0;if(48!==t[i++])return null;var a=t[i++];if(128&a&&(i+=a-128)>o)return null;if(2!==t[i++])return null;var s=t[i++];if(128&s){if(i+(a=s-128)>o)return null;for(;a>0&&0===t[i];i+=1,a-=1);for(s=0;a>0;i+=1,a-=1)s=(s<<8)+t[i]}if(s>o-i)return null;var c=i;if(i+=s,2!==t[i++])return null;var u=t[i++];if(128&u){if(i+(a=u-128)>o)return null;for(;a>0&&0===t[i];i+=1,a-=1);for(u=0;a>0;i+=1,a-=1)u=(u<<8)+t[i]}if(u>o-i)return null;var f=i;for(i+=u;s>0&&0===t[c];s-=1,c+=1);if(s>32)return null;var l=t.slice(c,c+s);for(l.copy(r,32-l.length);u>0&&0===t[f];u-=1,f+=1);if(u>32)return null;var d=t.slice(f,f+u);return d.copy(n,32-d.length),{r:r,s:n}}}).call(this,r("HDXh").Buffer)},aYMp:function(e,t,r){e.exports=r("yYxu")(r("JBbW"))},b94t:function(e,t){const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],l=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49];let h=l^(i<<1|a>>>31),p=d^(a<<1|i>>>31);const g=e[0]^h,y=e[1]^p,m=e[10]^h,v=e[11]^p,w=e[20]^h,b=e[21]^p,_=e[30]^h,k=e[31]^p,E=e[40]^h,x=e[41]^p;h=n^(s<<1|c>>>31),p=o^(c<<1|s>>>31);const A=e[2]^h,T=e[3]^p,P=e[12]^h,S=e[13]^p,R=e[22]^h,C=e[23]^p,O=e[32]^h,B=e[33]^p,L=e[42]^h,N=e[43]^p;h=i^(u<<1|f>>>31),p=a^(f<<1|u>>>31);const I=e[4]^h,U=e[5]^p,D=e[14]^h,M=e[15]^p,j=e[24]^h,K=e[25]^p,G=e[34]^h,F=e[35]^p,q=e[44]^h,H=e[45]^p;h=s^(l<<1|d>>>31),p=c^(d<<1|l>>>31);const z=e[6]^h,V=e[7]^p,W=e[16]^h,J=e[17]^p,Z=e[26]^h,X=e[27]^p,$=e[36]^h,Y=e[37]^p,Q=e[46]^h,ee=e[47]^p;h=u^(n<<1|o>>>31),p=f^(o<<1|n>>>31);const te=e[8]^h,re=e[9]^p,ne=e[18]^h,oe=e[19]^p,ie=e[28]^h,ae=e[29]^p,se=e[38]^h,ce=e[39]^p,ue=e[48]^h,fe=e[49]^p,le=g,de=y,he=v<<4|m>>>28,pe=m<<4|v>>>28,ge=w<<3|b>>>29,ye=b<<3|w>>>29,me=k<<9|_>>>23,ve=_<<9|k>>>23,we=E<<18|x>>>14,be=x<<18|E>>>14,_e=A<<1|T>>>31,ke=T<<1|A>>>31,Ee=S<<12|P>>>20,xe=P<<12|S>>>20,Ae=R<<10|C>>>22,Te=C<<10|R>>>22,Pe=B<<13|O>>>19,Se=O<<13|B>>>19,Re=L<<2|N>>>30,Ce=N<<2|L>>>30,Oe=U<<30|I>>>2,Be=I<<30|U>>>2,Le=D<<6|M>>>26,Ne=M<<6|D>>>26,Ie=K<<11|j>>>21,Ue=j<<11|K>>>21,De=G<<15|F>>>17,Me=F<<15|G>>>17,je=H<<29|q>>>3,Ke=q<<29|H>>>3,Ge=z<<28|V>>>4,Fe=V<<28|z>>>4,qe=J<<23|W>>>9,He=W<<23|J>>>9,ze=Z<<25|X>>>7,Ve=X<<25|Z>>>7,We=$<<21|Y>>>11,Je=Y<<21|$>>>11,Ze=ee<<24|Q>>>8,Xe=Q<<24|ee>>>8,$e=te<<27|re>>>5,Ye=re<<27|te>>>5,Qe=ne<<20|oe>>>12,et=oe<<20|ne>>>12,tt=ae<<7|ie>>>25,rt=ie<<7|ae>>>25,nt=se<<8|ce>>>24,ot=ce<<8|se>>>24,it=ue<<14|fe>>>18,at=fe<<14|ue>>>18;e[0]=le^~Ee&Ie,e[1]=de^~xe&Ue,e[10]=Ge^~Qe&ge,e[11]=Fe^~et&ye,e[20]=_e^~Le&ze,e[21]=ke^~Ne&Ve,e[30]=$e^~he&Ae,e[31]=Ye^~pe&Te,e[40]=Oe^~qe&tt,e[41]=Be^~He&rt,e[2]=Ee^~Ie&We,e[3]=xe^~Ue&Je,e[12]=Qe^~ge&Pe,e[13]=et^~ye&Se,e[22]=Le^~ze&nt,e[23]=Ne^~Ve&ot,e[32]=he^~Ae&De,e[33]=pe^~Te&Me,e[42]=qe^~tt&me,e[43]=He^~rt&ve,e[4]=Ie^~We&it,e[5]=Ue^~Je&at,e[14]=ge^~Pe&je,e[15]=ye^~Se&Ke,e[24]=ze^~nt&we,e[25]=Ve^~ot&be,e[34]=Ae^~De&Ze,e[35]=Te^~Me&Xe,e[44]=tt^~me&Re,e[45]=rt^~ve&Ce,e[6]=We^~it&le,e[7]=Je^~at&de,e[16]=Pe^~je&Ge,e[17]=Se^~Ke&Fe,e[26]=nt^~we&_e,e[27]=ot^~be&ke,e[36]=De^~Ze&$e,e[37]=Me^~Xe&Ye,e[46]=me^~Re&Oe,e[47]=ve^~Ce&Be,e[8]=it^~le&Ee,e[9]=at^~de&xe,e[18]=je^~Ge&Qe,e[19]=Ke^~Fe&et,e[28]=we^~_e&Le,e[29]=be^~ke&Ne,e[38]=Ze^~$e&he,e[39]=Xe^~Ye&pe,e[48]=Re^~Oe&qe,e[49]=Ce^~Be&He,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},hbHZ:function(e,t,r){var n=r("UWJ2");e.exports=function(e){return"string"!==typeof e?e:n(e)?e.slice(2):e}},kqlA:function(e,t,r){(function(t){const{Transform:n}=r("qAFR");e.exports=e=>class r extends n{constructor(t,r,n,o){super(o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(o){n=o}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,r){if(!t.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return t.isBuffer(e)||(e=t.from(e,r)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new r(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r("HDXh").Buffer)},mQ7Z:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createHashFunction=function(t){return function(r){var n=t();return n.update(r),e.from(n.digest())}}}).call(this,r("HDXh").Buffer)},mhLr:function(e,t,r){"use strict";(function(t){var n=r("UWJ2"),o=r("hbHZ");function i(e){var t=e;if("string"!==typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function a(e){return"0x"+e.toString(16)}e.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var r=a(e);return new t(i(r.slice(2)),"hex")},getBinarySize:function(e){if("string"!==typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return t.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:o,padToEven:i,intToHex:a,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+i(new t(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var o=parseInt(e.substr(r,2),16);t+=String.fromCharCode(o)}return t},toUtf8:function(e){return new t(i(o(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!==typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],o=0;o<e.length;o++){var i=e[o][t];if(r&&!i)i="";else if("string"!==typeof i)throw new Error("invalid abi");n.push(i)}return n},isHexString:function(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this,r("HDXh").Buffer)},o8pB:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getLength=t.decode=t.encode=void 0;var n=r("OZ/i");function o(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function i(t,r){if(t<56)return e.from([t+r]);var n=c(t),o=c(r+55+n.length/2);return e.from(o+n,"hex")}function a(t){var r,n,i,s,c,u=[],f=t[0];if(f<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(f<=183){if(r=f-127,i=128===f?e.from([]):t.slice(1,r),2===r&&i[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:i,remainder:t.slice(r)}}if(f<=191){if(n=f-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if((r=o(t.slice(1,n).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((i=t.slice(n,r+n)).length<r)throw new Error("invalid RLP: not enough bytes for string");return{data:i,remainder:t.slice(r+n)}}if(f<=247){for(r=f-191,s=t.slice(1,r);s.length;)c=a(s),u.push(c.data),s=c.remainder;return{data:u,remainder:t.slice(r)}}var l=(n=f-246)+(r=o(t.slice(1,n).toString("hex"),16));if(l>t.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(s=t.slice(n,l)).length)throw new Error("invalid rlp, List has a invalid length");for(;s.length;)c=a(s),u.push(c.data),s=c.remainder;return{data:u,remainder:t.slice(l)}}function s(e){return"0x"===e.slice(0,2)}function c(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function u(t){if(!e.isBuffer(t)){if("string"===typeof t)return s(t)?e.from((r="string"!==typeof(o=t)?o:s(o)?o.slice(2):o).length%2?"0"+r:r,"hex"):e.from(t);if("number"===typeof t||"bigint"===typeof t)return t?function(t){var r=c(t);return e.from(r,"hex")}(t):e.from([]);if(null===t||void 0===t)return e.from([]);if(t instanceof Uint8Array)return e.from(t);if(n.isBN(t))return e.from(t.toArray());throw new Error("invalid type")}var r,o;return t}t.encode=function t(r){if(Array.isArray(r)){for(var n=[],o=0;o<r.length;o++)n.push(t(r[o]));var a=e.concat(n);return e.concat([i(a.length,192),a])}var s=u(r);return 1===s.length&&s[0]<128?s:e.concat([i(s.length,128),s])},t.decode=function(t,r){if(void 0===r&&(r=!1),!t||0===t.length)return e.from([]);var n=a(u(t));if(r)return n;if(0!==n.remainder.length)throw new Error("invalid remainder");return n.data},t.getLength=function(t){if(!t||0===t.length)return e.from([]);var r=u(t),n=r[0];if(n<=127)return r.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var i=n-246;return i+o(r.slice(1,i).toString("hex"),16)}}).call(this,r("HDXh").Buffer)},tnHP:function(e,t,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r("wzGL"),i=o.keccak224,a=o.keccak384,s=o.keccak256,c=o.keccak512,u=r("FLwF"),f=r("9lTW"),l=r("o8pB"),d=r("OZ/i"),h=r("mObS"),p=r("hwdV").Buffer;Object.assign(t,r("mhLr")),t.MAX_INTEGER=new d("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new d("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.SHA3_NULL_S=t.KECCAK256_NULL_S,t.KECCAK256_NULL=p.from(t.KECCAK256_NULL_S,"hex"),t.SHA3_NULL=t.KECCAK256_NULL,t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.SHA3_RLP_ARRAY_S=t.KECCAK256_RLP_ARRAY_S,t.KECCAK256_RLP_ARRAY=p.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.SHA3_RLP_ARRAY=t.KECCAK256_RLP_ARRAY,t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.SHA3_RLP_S=t.KECCAK256_RLP_S,t.KECCAK256_RLP=p.from(t.KECCAK256_RLP_S,"hex"),t.SHA3_RLP=t.KECCAK256_RLP,t.BN=d,t.rlp=l,t.secp256k1=u,t.zeros=function(e){return p.allocUnsafe(e).fill(0)},t.zeroAddress=function(){var e=t.zeros(20);return t.bufferToHex(e)},t.setLengthLeft=t.setLength=function(e,r,n){var o=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(o),o):e.slice(0,r):e.length<r?(e.copy(o,r-e.length),o):e.slice(-r)},t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=t.stripZeros=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},t.toBuffer=function(e){if(!p.isBuffer(e))if(Array.isArray(e))e=p.from(e);else if("string"===typeof e)e=t.isHexString(e)?p.from(t.padToEven(t.stripHexPrefix(e)),"hex"):p.from(e);else if("number"===typeof e)e=t.intToBuffer(e);else if(null===e||void 0===e)e=p.allocUnsafe(0);else if(d.isBN(e))e=e.toArrayLike(p);else{if(!e.toArray)throw new Error("invalid type");e=p.from(e.toArray())}return e},t.bufferToInt=function(e){return new d(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new d(e).fromTwos(256)},t.toUnsigned=function(e){return p.from(e.toTwos(256).toArray())},t.keccak=function(e,r){switch(e=t.toBuffer(e),r||(r=256),r){case 224:return i(e);case 256:return s(e);case 384:return a(e);case 512:return c(e);default:throw new Error("Invald algorithm: keccak"+r)}},t.keccak256=function(e){return t.keccak(e)},t.sha3=t.keccak,t.sha256=function(e){return e=t.toBuffer(e),h("sha256").update(e).digest()},t.ripemd160=function(e,r){e=t.toBuffer(e);var n=h("rmd160").update(e).digest();return!0===r?t.setLength(n,32):n},t.rlphash=function(e){return t.keccak(l.encode(e))},t.isValidPrivate=function(e){return u.privateKeyVerify(e)},t.isValidPublic=function(e,t){return 64===e.length?u.publicKeyVerify(p.concat([p.from([4]),e])):!!t&&u.publicKeyVerify(e)},t.pubToAddress=t.publicToAddress=function(e,r){return e=t.toBuffer(e),r&&64!==e.length&&(e=u.publicKeyConvert(e,!1).slice(1)),f(64===e.length),t.keccak(e).slice(-20)};var g=t.privateToPublic=function(e){return e=t.toBuffer(e),u.publicKeyCreate(e,!1).slice(1)};t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=u.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t){var r=u.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},t.hashPersonalMessage=function(e){var r=t.toBuffer("\x19Ethereum Signed Message:\n"+e.length.toString());return t.keccak(p.concat([r,e]))},t.ecrecover=function(e,r,n,o){var i=p.concat([t.setLength(n,32),t.setLength(o,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var s=u.recover(e,i,a);return u.publicKeyConvert(s,!1).slice(1)},t.toRpcSig=function(e,r,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return t.bufferToHex(p.concat([t.setLengthLeft(r,32),t.setLengthLeft(n,32),t.toBuffer(e-27)]))},t.fromRpcSig=function(e){if(65!==(e=t.toBuffer(e)).length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(g(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===t.addHexPrefix(e)},t.toChecksumAddress=function(e){e=t.stripHexPrefix(e).toLowerCase();for(var r=t.keccak(e).toString("hex"),n="0x",o=0;o<e.length;o++)parseInt(r[o],16)>=8?n+=e[o].toUpperCase():n+=e[o];return n},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,r){return e=t.toBuffer(e),r=(r=new d(r)).isZero()?null:p.from(r.toArray()),t.rlphash([e,r]).slice(-20)},t.isPrecompiled=function(e){var r=t.unpad(e);return 1===r.length&&r[0]>=1&&r[0]<=8},t.addHexPrefix=function(e){return"string"!==typeof e||t.isHexPrefixed(e)?e:"0x"+e},t.isValidSignature=function(e,t,r,n){var o=new d("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),i=new d("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new d(t),r=new d(r),!(t.isZero()||t.gt(i)||r.isZero()||r.gt(i))&&(!1!==n||1!==new d(r).cmp(o))))},t.baToJSON=function(e){if(p.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],n=0;n<e.length;n++)r.push(t.baToJSON(e[n]));return r}},t.defineProperties=function(e,r,o){if(e.raw=[],e._fields=[],e.toJSON=function(r){if(r){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return t.baToJSON(this.raw)},e.serialize=function(){return l.encode(e.raw)},r.forEach((function(r,n){function o(){return e.raw[n]}function i(o){"00"!==(o=t.toBuffer(o)).toString("hex")||r.allowZero||(o=p.allocUnsafe(0)),r.allowLess&&r.length?(o=t.stripZeros(o),f(r.length>=o.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===o.length||!r.length||f(r.length===o.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[n]=o}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:o,set:i}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:i,get:o})})),o)if("string"===typeof o&&(o=p.from(t.stripHexPrefix(o),"hex")),p.isBuffer(o)&&(o=l.decode(o)),Array.isArray(o)){if(o.length>e._fields.length)throw new Error("wrong number of fields in data");o.forEach((function(r,n){e[e._fields[n]]=t.toBuffer(r)}))}else{if("object"!==("undefined"===typeof o?"undefined":n(o)))throw new Error("invalid data");var i=Object.keys(o);r.forEach((function(t){-1!==i.indexOf(t.name)&&(e[t.name]=o[t.name]),-1!==i.indexOf(t.alias)&&(e[t.alias]=o[t.alias])}))}}},uIfa:function(e,t,r){e.exports=r("E9FP")(r("JByn"))},wzGL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mQ7Z"),o=r("aYMp");t.keccak224=n.createHashFunction((function(){return o("keccak224")})),t.keccak256=n.createHashFunction((function(){return o("keccak256")})),t.keccak384=n.createHashFunction((function(){return o("keccak384")})),t.keccak512=n.createHashFunction((function(){return o("keccak512")}))},yYxu:function(e,t,r){const n=r("4HPa"),o=r("kqlA");e.exports=function(e){const t=n(e),r=o(e);return function(e,n){switch("string"===typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},zGlL:function(e,t,r){"use strict";r.r(t),function(e,n){var o=r("+qE3"),i=r.n(o),a=r("fjoe"),s=(r("q1tI"),r("thIF"),r("HDXh"),r("grqV")),c=(r("qAFR"),r("qiJe"),r("MCLT")),u=r.n(c),f=(r("HEbw"),r("9lTW"),r("KJGB"));const l=i.a.EventEmitter,d=u.a.inherits;var h=p;function p(){l.call(this),this.isLocked=!0}d(p,l),p.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},p.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},p.prototype.await=function(e){this.isLocked?this.once("unlock",e):setTimeout(e)};var g=function(e){return Object(s.h)({id:(new Date).getTime()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",params:[]},e)};const y=i.a.EventEmitter,m=u.a.inherits,v=function(){};var w=b;function b(e){y.call(this),this.setMaxListeners(30),e=e||{};const t={sendAsync:this._handleAsync.bind(this)},r=e.blockTrackerProvider||t;this._blockTracker=e.blockTracker||new s.b({provider:r,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),this._ready=new h,this.currentBlock=null,this._providers=[]}m(b,y),Object.defineProperty(b,"name",{value:"HttpProvider"}),b.prototype.start=function(e=v){const t=this;t._ready.go(),t._blockTracker.on("latest",(e=>{t._getBlockByNumber(e,((e,r)=>{if(e)return void this.emit("error",e);if(!r)return;const n=(o=r,{number:s.d.toBuffer(o.number),hash:s.d.toBuffer(o.hash),parentHash:s.d.toBuffer(o.parentHash),nonce:s.d.toBuffer(o.nonce),mixHash:s.d.toBuffer(o.mixHash),sha3Uncles:s.d.toBuffer(o.sha3Uncles),logsBloom:s.d.toBuffer(o.logsBloom),transactionsRoot:s.d.toBuffer(o.transactionsRoot),stateRoot:s.d.toBuffer(o.stateRoot),receiptsRoot:s.d.toBuffer(o.receiptRoot||o.receiptsRoot),miner:s.d.toBuffer(o.miner),difficulty:s.d.toBuffer(o.difficulty),totalDifficulty:s.d.toBuffer(o.totalDifficulty),size:s.d.toBuffer(o.size),extraData:s.d.toBuffer(o.extraData),gasLimit:s.d.toBuffer(o.gasLimit),gasUsed:s.d.toBuffer(o.gasUsed),timestamp:s.d.toBuffer(o.timestamp),transactions:o.transactions});var o;t._setCurrentBlock(n),t.emit("rawBlock",r),t.emit("latest",r)}))})),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")},b.prototype.stop=function(){this._blockTracker.removeAllListeners(),this._running=!1,this.emit("stop")},b.prototype.isRunning=function(){return this._running},b.prototype.addProvider=function(e,t){"number"==typeof t?this._providers.splice(t,0,e):this._providers.push(e),e.setEngine(this)},b.prototype.removeProvider=function(e){const t=this._providers.indexOf(e);if(t<0)throw new Error("Provider not found.");this._providers.splice(t,1)},b.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},b.prototype.sendAsync=function(e,t){const r=this;r._ready.await((function(){Array.isArray(e)?Object(s.m)(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)}))},b.prototype._getBlockByNumber=function(e,t){const r=g({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(r,((e,r)=>e?t(e):t(null,r.result)))},b.prototype._handleAsync=function(e,t){var r=this,n=-1,o=null,i=null,a=[];function c(r,n){i=r,o=n,Object(s.e)(a,(function(e,t){e?e(i,o,t):t()}),(function(){var r={id:e.id,jsonrpc:e.jsonrpc,result:o};null!=i?(r.error={message:i.stack||i.message||i,code:-32e3},t(i,r)):t(null,r)}))}!function t(o){if(n+=1,a.unshift(o),n>=r._providers.length)c(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{r._providers[n].handleRequest(e,t,c)}catch(e){c(e)}}()},b.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)};var _=k;function k(){}k.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",(function(e){t.currentBlock=e})),e.on("start",(function(){t.start()})),e.on("stop",(function(){t.stop()})))},k.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")},k.prototype.emitPayload=function(e,t){this.engine.sendAsync(g(e),t)},k.prototype.stop=function(){},k.prototype.start=function(){};var E=class extends _{constructor(e){if(super(),!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=e}setEngine(e){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const t=e._blockTracker,r=this._constructorFn({engine:e,provider:e,blockTracker:t});if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!=typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=r}handleRequest(e,t,r){const n={id:e.id};this.middleware(e,n,(function(e){t(((t,r,o)=>{t?(delete n.result,n.error={message:t.message||t}):n.result=r,e?e(o):o()}))}),(function(e){if(e)return r(e);r(null,n.result)}))}},x={cacheIdentifierForPayload:function(e,t){const r=t?T(e):e.params;return A(e)?e.method+":"+Object(f.a)(r):null},canCache:A,blockTagForPayload:function(e){let t=P(e);return t>=e.params.length?null:e.params[t]},paramsWithoutBlockTag:T,blockTagParamIndex:P,cacheTypeForPayload:S};function A(e){return"never"!==S(e)}function T(e){const t=P(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function P(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function S(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}const R=[void 0,null,"<nil>"];class C{constructor(){this.cache={}}getBlockCacheForPayload(e,t){const r=Number.parseInt(t,16);let n=this.cache[r];if(!n){const e={};this.cache[r]=e,n=e}return n}async get(e,t){const r=this.getBlockCacheForPayload(e,t);if(r)return r[x.cacheIdentifierForPayload(e,!0)]}async set(e,t,r){this.canCacheResult(e,r)&&(this.getBlockCacheForPayload(e,t)[x.cacheIdentifierForPayload(e,!0)]=r)}canCacheRequest(e){return!!x.canCache(e)&&"pending"!==x.blockTagForPayload(e)}canCacheResult(e,t){if(!R.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,r=Number.parseInt(e,16);Object.keys(t.cache).map(Number).filter((e=>e<r)).forEach((e=>delete t.cache[e]))}}var O=class extends E{constructor(e){super((({blockTracker:t})=>function(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new C,n={perma:r,block:r,fork:r};return Object(s.l)((async(e,o,i)=>{if(e.skipCache)return i();const a=x.cacheTypeForPayload(e),s=n[a];if(!s)return i();if(!s.canCacheRequest(e))return i();let c,u=x.blockTagForPayload(e);if(u||(u="latest"),"earliest"===u)c="0x00";else if("latest"===u){const e=await t.getLatestBlock();r.clearBefore(e),c=e}else c=u;const f=await s.get(e,c);void 0===f?(await i(),await s.set(e,c,o.result)):o.result=f}))}(Object.assign({blockTracker:t},e))))}};const B=u.a.inherits;var L=N;function N(e){e=e||{},this.staticResponses=e}B(N,_),N.prototype.handleRequest=function(e,t,r){var n=this.staticResponses[e.method];"function"==typeof n?n(e,t,r):void 0!==n?setTimeout((()=>r(null,n))):t()};var I=class extends E{constructor(){super((({blockTracker:e,provider:t,engine:r})=>Object(s.g)({blockTracker:e,provider:t})))}};const U=u.a.inherits,D=/^[0-9A-Fa-f]+$/g;var M=j;function j(e){this.nonceLock=Object(s.c)(1),e.getAccounts&&(this.getAccounts=e.getAccounts),e.processTransaction&&(this.processTransaction=e.processTransaction),e.processMessage&&(this.processMessage=e.processMessage),e.processPersonalMessage&&(this.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(this.processTypedMessage=e.processTypedMessage),e.processTypedMessageV3&&(this.processTypedMessageV3=e.processTypedMessageV3),this.approveTransaction=e.approveTransaction||this.autoApprove,this.approveMessage=e.approveMessage||this.autoApprove,this.approvePersonalMessage=e.approvePersonalMessage||this.autoApprove,this.approveTypedMessage=e.approveTypedMessage||this.autoApprove,this.approveTypedMessageV3=e.approveTypedMessageV3||this.autoApprove,e.signTransaction&&(this.signTransaction=e.signTransaction||H("signTransaction")),e.signMessage&&(this.signMessage=e.signMessage||H("signMessage")),e.signPersonalMessage&&(this.signPersonalMessage=e.signPersonalMessage||H("signPersonalMessage")),e.signTypedMessage&&(this.signTypedMessage=e.signTypedMessage||H("signTypedMessage")),e.signTypedMessageV3&&(this.signTypedMessageV3=e.signTypedMessageV3||H("signTypedMessageV3")),e.recoverPersonalSignature&&(this.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(this.publishTransaction=e.publishTransaction),this.estimateGas=e.estimateGas||this.estimateGas,this.getGasPrice=e.getGasPrice||this.getGasPrice}function K(e){return e.toLowerCase()}function G(e){const t=s.d.addHexPrefix(e);return s.d.isValidAddress(t)}function F(e){const t=s.d.addHexPrefix(e);return!s.d.isValidAddress(t)&&q(e)}function q(e){return"string"==typeof e&&"0x"===e.slice(0,2)&&e.slice(2).match(D)}function H(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}U(j,_),j.prototype.handleRequest=function(e,t,r){const n=this;let o,i,a,c,u;switch(n._parityRequests={},n._parityRequestCount=0,e.method){case"eth_coinbase":return void n.getAccounts((function(e,t){if(e)return r(e);let n=t[0]||null;r(null,n)}));case"eth_accounts":return void n.getAccounts((function(e,t){if(e)return r(e);r(null,t)}));case"eth_sendTransaction":return o=e.params[0],void Object(s.p)([e=>n.validateTransaction(o,e),e=>n.processTransaction(o,e)],r);case"eth_signTransaction":return o=e.params[0],void Object(s.p)([e=>n.validateTransaction(o,e),e=>n.processSignTransaction(o,e)],r);case"eth_sign":return F(e.params[1])&&G(e.params[0])?(u=e.params[0],c=e.params[1]):(c=e.params[0],u=e.params[1]),a=e.params[2]||{},i=Object(s.h)(a,{from:u,data:c}),void Object(s.p)([e=>n.validateMessage(i,e),e=>n.processMessage(i,e)],r);case"personal_sign":return function(){const t=e.params[0];if(F(e.params[1])&&G(t)){let t="The eth_personalSign method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),u=e.params[0],c=e.params[1]}else c=e.params[0],u=e.params[1];a=e.params[2]||{},i=Object(s.h)(a,{from:u,data:c}),Object(s.p)([e=>n.validatePersonalMessage(i,e),e=>n.processPersonalMessage(i,e)],r)}();case"personal_ecRecover":return function(){c=e.params[0];let t=e.params[1];a=e.params[2]||{},i=Object(s.h)(a,{sig:t,data:c}),n.recoverPersonalSignature(i,r)}();case"eth_signTypedData":return!G(e.params[1])&&G(e.params[0])?(u=e.params[0],c=e.params[1]):(c=e.params[0],u=e.params[1]),a=e.params[2]||{},i=Object(s.h)(a,{from:u,data:c}),void Object(s.p)([e=>n.validateTypedMessage(i,e),e=>n.processTypedMessage(i,e)],r);case"eth_signTypedData_v3":return!G(e.params[1])&&G(e.params[0])?(u=e.params[0],c=e.params[1]):(c=e.params[0],u=e.params[1]),a=e.params[2]||{},i=Object(s.h)(a,{from:u,data:c}),void Object(s.p)([e=>n.validateTypedMessageV3(i,e),e=>n.processTypedMessageV3(i,e)],r);case"parity_postTransaction":return o=e.params[0],void n.parityPostTransaction(o,r);case"parity_postSign":return u=e.params[0],c=e.params[1],void n.parityPostSign(u,c,r);case"parity_checkRequest":return function(){const t=e.params[0];n.parityCheckRequest(t,r)}();case"parity_defaultAccount":return void n.getAccounts((function(e,t){if(e)return r(e);const n=t[0]||null;r(null,n)}));default:return void t()}},j.prototype.getAccounts=function(e){e(null,[])},j.prototype.processTransaction=function(e,t){const r=this;Object(s.p)([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeAndSubmitTx(e,t)],t)},j.prototype.processSignTransaction=function(e,t){const r=this;Object(s.p)([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeTx(e,t)],t)},j.prototype.processMessage=function(e,t){const r=this;Object(s.p)([t=>r.approveMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signMessage(e,t)],t)},j.prototype.processPersonalMessage=function(e,t){const r=this;Object(s.p)([t=>r.approvePersonalMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signPersonalMessage(e,t)],t)},j.prototype.processTypedMessage=function(e,t){const r=this;Object(s.p)([t=>r.approveTypedMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signTypedMessage(e,t)],t)},j.prototype.processTypedMessageV3=function(e,t){const r=this;Object(s.p)([t=>r.approveTypedMessageV3(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signTypedMessageV3(e,t)],t)},j.prototype.autoApprove=function(e,t){t(null,!0)},j.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))},j.prototype.parityPostTransaction=function(e,t){const r=this,n=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},(function(e,t){if(e)return void(r._parityRequests[n]={error:e});const o=t.result;r._parityRequests[n]=o})),t(null,n)},j.prototype.parityPostSign=function(e,t,r){const n=this,o=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[e,t]},(function(e,t){if(e)return void(n._parityRequests[o]={error:e});const r=t.result;n._parityRequests[o]=r})),r(null,o)},j.prototype.parityCheckRequest=function(e,t){const r=this._parityRequests[e]||null;return r?r.error?t(r.error):void t(null,r):t(null,null)},j.prototype.recoverPersonalSignature=function(e,t){let r;try{r=s.o.recoverPersonalSignature(e)}catch(e){return t(e)}t(null,r)},j.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))}))},j.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},j.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):q(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},j.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},j.prototype.validateTypedMessageV3=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},j.prototype.validateSender=function(e,t){if(!e)return t(null,!1);this.getAccounts((function(r,n){if(r)return t(r);const o=-1!==n.map(K).indexOf(e.toLowerCase());t(null,o)}))},j.prototype.finalizeAndSubmitTx=function(e,t){const r=this;r.nonceLock.take((function(){Object(s.p)([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(e,n){if(r.nonceLock.leave(),e)return t(e);t(null,n)}))}))},j.prototype.finalizeTx=function(e,t){const r=this;r.nonceLock.take((function(){Object(s.p)([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],(function(n,o){if(r.nonceLock.leave(),n)return t(n);t(null,{raw:o,tx:e})}))}))},j.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},(function(e,r){if(e)return t(e);t(null,r.result)}))},j.prototype.estimateGas=function(e,t){!function(e,t,r){e.sendAsync(g({method:"eth_estimateGas",params:[t]}),(function(e,t){if(e)return"no contract code at given address"===e.message?r(null,"0xcf08"):r(e);r(null,t.result)}))}(this.engine,e,t)},j.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},(function(t,r){if(t)return e(t);e(null,r.result)}))},j.prototype.fillInTxExtras=function(e,t){const r=this,n=e.from,o={};void 0===e.gasPrice&&(o.gasPrice=r.getGasPrice.bind(r)),void 0===e.nonce&&(o.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),void 0===e.gas&&(o.gas=r.estimateGas.bind(r,function(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}(e))),Object(s.n)(o,(function(r,n){if(r)return t(r);const o={};n.gasPrice&&(o.gasPrice=n.gasPrice),n.nonce&&(o.nonce=n.nonce.result),n.gas&&(o.gas=n.gas),t(null,Object(s.h)(e,o))}))};var z={v:5e3,d:"Gas limit of the Genesis block."},V={v:17179869184,d:"Difficulty of the Genesis block."},W={v:"0x0000000000000042",d:"the geneis nonce"},J={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},Z={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},X={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},$={v:5e3,d:"Minimum the gas limit may ever be."},Y={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},Q={v:131072,d:"The minimum that the difficulty may ever be."},ee={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},te={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},re={v:32,d:"Maximum size extra data may be after Genesis."},ne={v:3e4,d:"Duration between proof-of-work epochs."},oe={v:1024,d:"Maximum size of VM stack allowed."},ie={v:1024,d:"Maximum depth of call/create stack."},ae={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},se={v:10,d:"Once per EXP instuction."},ce={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},ue={v:30,d:"Once per SHA3 operation."},fe={v:6,d:"Once per word of the SHA3 operation's data."},le={v:50,d:"Once per SLOAD operation."},de={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},he={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},pe={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},ge={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},ye={v:375,d:"Per LOG* operation."},me={v:8,d:"Per byte in a LOG* operation's data."},ve={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},we={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},be={v:40,d:"Once per CALL operation & message call transaction."},_e={v:2300,d:"Free gas given at beginning of call."},ke={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},Ee={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},xe={v:24e3,d:"Refunded following a suicide operation."},Ae={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},Te={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},Pe={v:200,d:""},Se={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},Re={v:32e3,d:"the cost of creating a contract via tx"},Ce={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},Oe={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},Be={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},Le={v:3e3,d:""},Ne={v:60,d:""},Ie={v:12,d:""},Ue={v:600,d:""},De={v:120,d:""},Me={v:15,d:""},je={v:3,d:""},Ke={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},Ge={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},Fe={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},qe={v:115e4,d:"the block that the Homestead fork started at"},He={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},ze={v:1e5,d:"Exponential difficulty timebomb period"},Ve={v:2},We={genesisGasLimit:z,genesisDifficulty:V,genesisNonce:W,genesisExtraData:J,genesisHash:Z,genesisStateRoot:X,minGasLimit:$,gasLimitBoundDivisor:Y,minimumDifficulty:Q,difficultyBoundDivisor:ee,durationLimit:te,maximumExtraDataSize:re,epochDuration:ne,stackLimit:oe,callCreateDepth:ie,tierStepGas:ae,expGas:se,expByteGas:ce,sha3Gas:ue,sha3WordGas:fe,sloadGas:le,sstoreSetGas:de,sstoreResetGas:he,sstoreRefundGas:pe,jumpdestGas:ge,logGas:ye,logDataGas:me,logTopicGas:ve,createGas:we,callGas:be,callStipend:_e,callValueTransferGas:ke,callNewAccountGas:Ee,suicideRefundGas:xe,memoryGas:Ae,quadCoeffDiv:Te,createDataGas:Pe,txGas:Se,txCreation:Re,txDataZeroGas:Ce,txDataNonZeroGas:Oe,copyGas:Be,ecrecoverGas:Le,sha256Gas:Ne,sha256WordGas:Ie,ripemd160Gas:Ue,ripemd160WordGas:De,identityGas:Me,identityWordGas:je,minerReward:Ke,ommerReward:Ge,niblingReward:Fe,homeSteadForkNumber:qe,homesteadRepriceForkNumber:He,timebombPeriod:ze,freeBlockPeriod:Ve},Je=Object(a.h)(Object.freeze({__proto__:null,genesisGasLimit:z,genesisDifficulty:V,genesisNonce:W,genesisExtraData:J,genesisHash:Z,genesisStateRoot:X,minGasLimit:$,gasLimitBoundDivisor:Y,minimumDifficulty:Q,difficultyBoundDivisor:ee,durationLimit:te,maximumExtraDataSize:re,epochDuration:ne,stackLimit:oe,callCreateDepth:ie,tierStepGas:ae,expGas:se,expByteGas:ce,sha3Gas:ue,sha3WordGas:fe,sloadGas:le,sstoreSetGas:de,sstoreResetGas:he,sstoreRefundGas:pe,jumpdestGas:ge,logGas:ye,logDataGas:me,logTopicGas:ve,createGas:we,callGas:be,callStipend:_e,callValueTransferGas:ke,callNewAccountGas:Ee,suicideRefundGas:xe,memoryGas:Ae,quadCoeffDiv:Te,createDataGas:Pe,txGas:Se,txCreation:Re,txDataZeroGas:Ce,txDataNonZeroGas:Oe,copyGas:Be,ecrecoverGas:Le,sha256Gas:Ne,sha256WordGas:Ie,ripemd160Gas:Ue,ripemd160WordGas:De,identityGas:Me,identityWordGas:je,minerReward:Ke,ommerReward:Ge,niblingReward:Fe,homeSteadForkNumber:qe,homesteadRepriceForkNumber:He,timebombPeriod:ze,freeBlockPeriod:Ve,default:We})),Ze=s.d.BN,Xe=new Ze("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),$e=function(){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=r||{};var n=[{name:"nonce",length:32,allowLess:!0,default:new e([])},{name:"gasPrice",length:32,allowLess:!0,default:new e([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new e([])},{name:"to",allowZero:!0,length:20,default:new e([])},{name:"value",length:32,allowLess:!0,default:new e([])},{name:"data",alias:"input",allowZero:!0,default:new e([])},{name:"v",allowZero:!0,default:new e([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new e([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new e([])}];s.d.defineProperties(this,n,r),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var o=s.d.bufferToInt(this.v),i=Math.floor((o-35)/2);i<0&&(i=0),this._chainId=i||r.chainId||0,this._homestead=!0}return t.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},t.prototype.hash=function(e){void 0===e&&(e=!0);var t=void 0;if(e)t=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,t=this.raw,this.raw=r}else t=this.raw.slice(0,6);return s.d.rlphash(t)},t.prototype.getChainId=function(){return this._chainId},t.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=s.d.publicToAddress(e),this._from},t.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},t.prototype.verifySignature=function(){var e=this.hash(!1);if(this._homestead&&1===new Ze(this.s).cmp(Xe))return!1;try{var t=s.d.bufferToInt(this.v);this._chainId>0&&(t-=2*this._chainId+8),this._senderPubKey=s.d.ecrecover(e,t,this.r,this.s)}catch(e){return!1}return!!this._senderPubKey},t.prototype.sign=function(e){var t=this.hash(!1),r=s.d.ecsign(t,e);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},t.prototype.getDataFee=function(){for(var e=this.raw[5],t=new Ze(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(Je.txDataZeroGas.v):t.iaddn(Je.txDataNonZeroGas.v);return t},t.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(Je.txGas.v);return this._homestead&&this.toCreationAddress()&&e.iaddn(Je.txCreation.v),e},t.prototype.getUpfrontCost=function(){return new Ze(this.gasLimit).imul(new Ze(this.gasPrice)).iadd(new Ze(this.value))},t.prototype.validate=function(e){var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new Ze(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===e||!1===e?0===t.length:t.join(" ")},t}();const Ye=u.a.inherits,Qe=function(e){var t=function(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}(e);return t>=e.params.length?null:e.params[t]};var et=tt;function tt(e){this.nonceCache={}}Ye(tt,_),tt.prototype.handleRequest=function(t,r,n){const o=this;switch(t.method){case"eth_getTransactionCount":var i=Qe(t),a=t.params[0].toLowerCase(),c=o.nonceCache[a];return void("pending"===i?c?n(null,c):r((function(e,t,r){if(e)return r();void 0===o.nonceCache[a]&&(o.nonceCache[a]=t),r()})):r());case"eth_sendRawTransaction":return void r((function(r,n,i){if(r)return i();var a=t.params[0],c=(s.d.stripHexPrefix(a),e.from(s.d.stripHexPrefix(a),"hex"),new $e(e.from(s.d.stripHexPrefix(a),"hex"))),u="0x"+c.getSenderAddress().toString("hex").toLowerCase(),f=s.d.bufferToInt(c.nonce),l=(++f).toString(16);l.length%2&&(l="0"+l),l="0x"+l,o.nonceCache[u]=l,i()}));case"evm_revert":return o.nonceCache={},void r();default:return void r()}};var rt=class extends E{constructor(){super((({blockTracker:e,provider:t,engine:r})=>{const{events:n,middleware:o}=Object(s.f)({blockTracker:e,provider:t});return n.on("notification",(e=>r.emit("data",null,e))),o}))}},nt=Object(a.d)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var r="message";t.ERR_CONNECTION_DESTROYED="ConnectionDestroyed",t.ERR_CONNECTION_TIMEOUT="ConnectionTimeout",t.ERR_NOT_IN_IFRAME="NotInIframe";var n,o={"http:":"80","https:":"443"},i=/^(https?:)?\/\/([^/:]+)(:(\d+))?/,a={ERR_CONNECTION_DESTROYED:"ConnectionDestroyed",ERR_CONNECTION_TIMEOUT:"ConnectionTimeout",ERR_NOT_IN_IFRAME:"NotInIframe",Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},s=(n=0,function(){return++n}),c=function(){if(a.debug){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,["[Penpal]"].concat(r))}},u=function(e){var t=[];return e((function(){t.forEach((function(e){e()}))})),{then:function(e){t.push(e)}}},f=function(e){return{name:e.name,message:e.message,stack:e.stack}},l=function(e){var t=new Error;return Object.keys(e).forEach((function(r){return t[r]=e[r]})),t},d=function(e,t,n,o){var i=t.localName,u=t.local,f=t.remote,d=t.remoteOrigin,h=!1;c("".concat(i,": Connecting call sender")),o.then((function(){h=!0})),n.reduce((function(e,t){return e[t]=function(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(c("".concat(i,": Sending ").concat(e,"() call")),h){var p=new Error("Unable to send ".concat(e,"() call due ")+"to destroyed connection");throw p.code="ConnectionDestroyed",p}return new a.Promise((function(t,o){var a=s();u.addEventListener(r,(function n(s){if(s.source===f&&s.origin===d&&"reply"===s.data.penpal&&s.data.id===a){c("".concat(i,": Received ").concat(e,"() reply")),u.removeEventListener(r,n);var h=s.data.returnValue;s.data.returnValueIsError&&(h=l(h)),("fulfilled"===s.data.resolution?t:o)(h)}})),f.postMessage({penpal:"call",id:a,methodName:e,args:n},d)}))}}(t),e}),e)},h=function(e,t,n){var o=e.localName,i=e.local,s=e.remote,u=e.remoteOrigin,l=!1;c("".concat(o,": Connecting call receiver"));var d=function(e){if(e.source===s&&e.origin===u&&"call"===e.data.penpal){var r=e.data,n=r.methodName,i=r.args,d=r.id;if(c("".concat(o,": Received ").concat(n,"() call")),n in t){var h=function(e){return function(t){if(c("".concat(o,": Sending ").concat(n,"() reply")),l)c("".concat(o,": Unable to send ").concat(n,"() reply due to destroyed connection"));else{var r={penpal:"reply",id:d,resolution:e,returnValue:t};"rejected"===e&&t instanceof Error&&(r.returnValue=f(t),r.returnValueIsError=!0);try{s.postMessage(r,u)}catch(e){throw"DataCloneError"===e.name&&s.postMessage({penpal:"reply",id:d,resolution:"rejected",returnValue:f(e),returnValueIsError:!0},u),e}}}};new a.Promise((function(e){return e(t[n].apply(t,i))})).then(h("fulfilled"),h("rejected"))}}};i.addEventListener(r,d),n.then((function(){l=!0,i.removeEventListener(r,d)}))};a.connectToChild=function(e){var t,n=e.url,s=e.appendTo,f=e.methods,l=void 0===f?{}:f,p=e.timeout,g=new u((function(e){t=e})),y=window,m=document.createElement("iframe");(s||document.body).appendChild(m),g.then((function(){m.parentNode&&m.parentNode.removeChild(m)}));var v=m.contentWindow||m.contentDocument.parentWindow,w=function(e){var t,r,n,a=document.location,s=i.exec(e);s?(t=s[1]?s[1]:a.protocol,r=s[2],n=s[4]):(t=a.protocol,r=a.hostname,n=a.port);var c=n&&n!==o[t]?":".concat(n):"";return"".concat(t,"//").concat(r).concat(c)}(n);return{promise:new a.Promise((function(e,o){var i;void 0!==p&&(i=setTimeout((function(){var e=new Error("Connection to child timed out after ".concat(p,"ms"));e.code="ConnectionTimeout",o(e),t()}),p));var a,s,f={},b=function(t){if(t.source===v&&t.origin===w&&"handshake"===t.data.penpal){c("Parent: Received handshake, sending reply"),t.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(l)},t.origin);var r={localName:"Parent",local:y,remote:v,remoteOrigin:t.origin};s&&s();var n=new u((function(e){g.then(e),s=e}));h(r,l,n),a&&a.forEach((function(e){delete f[e]})),a=t.data.methodNames,d(f,r,a,g),clearTimeout(i),e(f)}};y.addEventListener(r,b),g.then((function(){y.removeEventListener(r,b);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",o(e)})),c("Parent: Loading iframe"),m.src=n})),iframe:m,destroy:t}},a.connectToParent=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parentOrigin,o=void 0===n?"*":n,i=t.methods,s=void 0===i?{}:i,f=t.timeout;if(window===window.top){var l=new Error("connectToParent() must be called within an iframe");throw l.code="NotInIframe",l}var p=new u((function(t){e=t})),g=window,y=g.parent,m=new a.Promise((function(t,n){var i;void 0!==f&&(i=setTimeout((function(){var t=new Error("Connection to parent timed out after ".concat(f,"ms"));t.code="ConnectionTimeout",n(t),e()}),f));var a=function e(n){if(("*"===o||o===n.origin)&&n.source===y&&"handshake-reply"===n.data.penpal){c("Child: Received handshake reply"),g.removeEventListener(r,e);var a={localName:"Child",local:g,remote:y,remoteOrigin:n.origin},u={};h(a,s,p),d(u,a,n.data.methodNames,p),clearTimeout(i),t(u)}};g.addEventListener(r,a),p.then((function(){g.removeEventListener(r,a);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",n(e)})),c("Child: Sending handshake"),y.postMessage({penpal:"handshake",methodNames:Object.keys(s)},o)}));return{promise:m,destroy:e}};var p=a;t.default=p})),ot=Object(a.e)(nt);function it(e,t){var r="string"==typeof e?Object.assign({},at[e]):e;if("object"!=typeof r)throw new Error("[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(!r.nodeUrl)throw new Error("[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(t&&!r.gasRelayHubAddress)throw new Error("[Portis] can't find default gas relay hub for "+e);return"string"!=typeof e||t||delete r.gasRelayHubAddress,r}nt.ERR_NOT_IN_IFRAME,nt.ERR_CONNECTION_TIMEOUT,nt.ERR_CONNECTION_DESTROYED;var at={mainnet:{nodeUrl:"https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"1",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},ropsten:{nodeUrl:"https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"3",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},rinkeby:{nodeUrl:"https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"4",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},goerli:{nodeUrl:"https://goerli.prylabs.net",chainId:"5"},ubiq:{nodeUrl:"https://rpc1.ubiqscan.io",chainId:"8"},thundercoreTestnet:{nodeUrl:"https://testnet-rpc.thundercore.com:8544",chainId:"18"},orchid:{nodeUrl:"https://public-node.rsk.co",chainId:"30"},orchidTestnet:{nodeUrl:"https://public-node.testnet.rsk.co",chainId:"31"},kovan:{nodeUrl:"https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"42",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},classic:{nodeUrl:"https://ethereumclassic.network",chainId:"61"},sokol:{nodeUrl:"https://sokol.poa.network",chainId:"77"},core:{nodeUrl:"https://core.poa.network",chainId:"99"},xdai:{nodeUrl:"https://dai.poa.network",chainId:"100",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},thundercore:{nodeUrl:"https://mainnet-rpc.thundercore.com",chainId:"108"},fuse:{nodeUrl:"https://rpc.fusenet.io",chainId:"122"},lightstreams:{nodeUrl:"https://node.mainnet.lightstreams.io",chainId:"163"},maticAlpha:{nodeUrl:"https://alpha.ethereum.matic.network",chainId:"4626"},maticTestnet:{nodeUrl:"https://testnet2.matic.network",chainId:"8995"}},st=window&&window.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(a,s)}c((n=n.apply(e,t||[])).next())}))},ct=window&&window.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ut=r("tnHP"),ft=ut.addHexPrefix,lt=ut.stripHexPrefix,dt=ut.BN;function ht(e,t){return st(this,void 0,void 0,(function(){var r,n,o,i,a;return ct(this,(function(s){switch(s.label){case 0:return[4,e.getBlockByNumber("latest",!1)];case 1:return r=s.sent(),[4,pt(e,t,r.gasLimit)];case 2:if(n=s.sent(),o=n.safeGas,i=n.simpleSend,a=n.gasLimitSpecified,i||a)return[2,o];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,gt(e,t,r.gasLimit,o)];case 4:return[2,s.sent()];case 5:return s.sent(),[2,o];case 6:return[2]}}))}))}function pt(e,t,r){return st(this,void 0,void 0,(function(){var n,o;return ct(this,(function(i){switch(i.label){case 0:return Boolean(t.gas)?[2,{safeGas:t.gas,simpleSend:!1,gasLimitSpecified:!0}]:(n=t.to,Boolean(n)?[4,e.getCode(n)]:[3,2]);case 1:if(!(o=i.sent())||"0x"===o||"0x0"===o){if(t.data)throw new Error("Trying to call a function on a non-contract address");return[2,{safeGas:"0x5208",simpleSend:!0,gasLimitSpecified:!1}]}i.label=2;case 2:return a=mt(r),20,s=new dt(19),c=new dt(20),[2,{safeGas:vt(a.mul(s).div(c)),simpleSend:!1,gasLimitSpecified:!1}]}var a,s,c}))}))}function gt(e,t,r,n){return st(this,void 0,void 0,(function(){var o;return ct(this,(function(i){switch(i.label){case 0:return t.gas=n,o=ft,[4,e.estimateGas(t)];case 1:return[2,yt(o.apply(void 0,[i.sent()]),r)]}}))}))}function yt(e,t){var r=mt(e),n=mt(t).muln(.9),o=r.muln(1.5);return r.gt(n)?vt(r):o.lt(n)?vt(o):vt(n)}function mt(e){return new dt(lt(e),16)}function vt(e){return ft(e.toString(16))}var wt=function(){function e(e){this.provider=e}return e.prototype.getBlockByNumber=function(e,t){return this.sendAsync("eth_getBlockByNumber",e,t)},e.prototype.getCode=function(e,t){return void 0===t&&(t="latest"),this.sendAsync("eth_getCode",e,t)},e.prototype.estimateGas=function(e){return this.sendAsync("eth_estimateGas",e)},e.prototype.sendAsync=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return new Promise((function(n,o){t.provider.sendAsync({id:42,jsonrpc:"2.0",method:e,params:r},(function(e,t){e?o(e):n(t.result)}))}))},e}(),bt=!1;function _t(){return new Promise((function(e){bt?e():["loaded","interactive","complete"].indexOf(document.readyState)>-1?(bt=!0,e()):window.addEventListener("load",(function(){bt=!0,e()}),!1)}))}var kt={Blockchain:class{constructor(e,t){this.name=e,this.netID=t}toJSON(){return JSON.parse('{ "name":"'+this.name+'", "netID":"'+this.netID+'"}')}}},Et=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},xt=Object.prototype.toString;function At(e){return"[object Array]"===xt.call(e)}function Tt(e){return null!==e&&"object"==typeof e}function Pt(e){return"[object Function]"===xt.call(e)}function St(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),At(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var Rt={isArray:At,isArrayBuffer:function(e){return"[object ArrayBuffer]"===xt.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Tt,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===xt.call(e)},isFile:function(e){return"[object File]"===xt.call(e)},isBlob:function(e){return"[object Blob]"===xt.call(e)},isFunction:Pt,isStream:function(e){return Tt(e)&&Pt(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:St,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)St(arguments[n],r);return t},extend:function(e,t,r){return St(t,(function(t,n){e[n]=r&&"function"==typeof t?Et(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},Ct=function(e,t,r,n,o){return function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}(new Error(e),t,r,n,o)};function Ot(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Bt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Lt=Rt.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=Rt.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},Nt=Rt.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),Rt.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Rt.isString(n)&&a.push("path="+n),Rt.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},It={"Content-Type":"application/x-www-form-urlencoded"};function Ut(e,t){!Rt.isUndefined(e)&&Rt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Dt,Mt={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof n)&&(Dt=function(e){return new Promise((function(t,r){var n=e.data,o=e.headers;Rt.isFormData(n)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+s)}if(i.open(e.method.toUpperCase(),function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(Rt.isURLSearchParams(t))n=t.toString();else{var o=[];Rt.forEach(t,(function(e,t){null!=e&&(Rt.isArray(e)?t+="[]":e=[e],Rt.forEach(e,(function(e){Rt.isDate(e)?e=e.toISOString():Rt.isObject(e)&&(e=JSON.stringify(e)),o.push(Ot(t)+"="+Ot(e))})))})),n=o.join("&")}return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var n,o,a,s,c,u="getAllResponseHeaders"in i?(n=i.getAllResponseHeaders(),c={},n?(Rt.forEach(n.split("\n"),(function(e){if(s=e.indexOf(":"),o=Rt.trim(e.substr(0,s)).toLowerCase(),a=Rt.trim(e.substr(s+1)),o){if(c[o]&&Bt.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([a]):c[o]?c[o]+", "+a:a}})),c):c):null,f={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:u,config:e,request:i};!function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(Ct("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}(t,r,f),i=null}},i.onerror=function(){r(Ct("Network Error",e,null,i)),i=null},i.ontimeout=function(){r(Ct("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},Rt.isStandardBrowserEnv()){var c=Nt,u=(e.withCredentials||Lt(e.url))&&e.xsrfCookieName?c.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}if("setRequestHeader"in i&&Rt.forEach(o,(function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),r(e),i=null)})),void 0===n&&(n=null),i.send(n)}))}),Dt),transformRequest:[function(e,t){return function(e,t){Rt.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}(t,"Content-Type"),Rt.isFormData(e)||Rt.isArrayBuffer(e)||Rt.isBuffer(e)||Rt.isStream(e)||Rt.isFile(e)||Rt.isBlob(e)?e:Rt.isArrayBufferView(e)?e.buffer:Rt.isURLSearchParams(e)?(Ut(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Rt.isObject(e)?(Ut(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Rt.forEach(["delete","get","head"],(function(e){Mt.headers[e]={}})),Rt.forEach(["post","put","patch"],(function(e){Mt.headers[e]=Rt.merge(It)}));var jt=Mt;function Kt(){this.handlers=[]}Kt.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Kt.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Kt.prototype.forEach=function(e){Rt.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Gt=Kt,Ft=function(e,t,r){return Rt.forEach(r,(function(r){e=r(e,t)})),e},qt=function(e){return!(!e||!e.__CANCEL__)};function Ht(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var zt=function(e){var t,r,n;return Ht(e),e.baseURL&&(n=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n))&&(e.url=(t=e.baseURL,(r=e.url)?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=Ft(e.data,e.headers,e.transformRequest),e.headers=Rt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),Rt.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||jt.adapter)(e).then((function(t){return Ht(e),t.data=Ft(t.data,t.headers,e.transformResponse),t}),(function(t){return qt(t)||(Ht(e),t&&t.response&&(t.response.data=Ft(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))};function Vt(e){this.defaults=e,this.interceptors={request:new Gt,response:new Gt}}Vt.prototype.request=function(e){"string"==typeof e&&(e=Rt.merge({url:arguments[0]},arguments[1])),(e=Rt.merge(jt,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[zt,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},Rt.forEach(["delete","get","head","options"],(function(e){Vt.prototype[e]=function(t,r){return this.request(Rt.merge(r||{},{method:e,url:t}))}})),Rt.forEach(["post","put","patch"],(function(e){Vt.prototype[e]=function(t,r,n){return this.request(Rt.merge(n||{},{method:e,url:t,data:r}))}}));var Wt=Vt;function Jt(e){this.message=e}Jt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Jt.prototype.__CANCEL__=!0;var Zt=Jt;function Xt(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new Zt(e),t(r.reason))}))}Xt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Xt.source=function(){var e;return{token:new Xt((function(t){e=t})),cancel:e}};var $t=Xt;function Yt(e){var t=new Wt(e),r=Et(Wt.prototype.request,t);return Rt.extend(r,Wt.prototype,t),Rt.extend(r,t),r}var Qt=Yt(jt);Qt.Axios=Wt,Qt.create=function(e){return Yt(Rt.merge(jt,e))},Qt.Cancel=Zt,Qt.CancelToken=$t,Qt.isCancel=qt,Qt.all=function(e){return Promise.all(e)},Qt.spread=function(e){return function(t){return e.apply(null,t)}};var er=Qt,tr=Qt;er.default=tr;var rr=er,nr="https://dispatch.pokt.network",or="/v1/dispatch",ir={Node:class{constructor(e,t,r){this.network=e,this.netID=t;var n=r.split(":");this.ip=n[0],this.port=n[1],r.includes("https://")||r.includes("http://")?this.ipPort=r:"443"===this.port||443===this.port?this.ipPort="https://"+r:this.ipPort="http://"+r}isValid(){for(var e in this)if(!this.hasOwnProperty(e)||""==this[e])return!1;return!0}isEqual(e,t){return this.netID==e.toString()&&this.network==t.toString()}async sendRelay(e,t){try{const o=rr.create({baseURL:this.ipPort,timeout:e.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}});var r=await o.post("/v1/relay/",e.toJSON());if(200==r.status&&null!=r.data){var n=r.data;return t?void t(n,null):n}return t?void t(null,new Error("Failed to send relay with error: "+r.data)):new Error("Failed to send relay with error: "+r.data)}catch(e){return t?void t(null,new Error("Failed to send relay with error: "+e)):new Error("Failed to send relay with error: "+e)}}}};const ar=ir.Node;var sr={Dispatch:class{constructor(e){this.configuration=e,this.axiosInstance=rr.create({baseURL:nr,path:or,timeout:this.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}})}blockchainsJSON(){var e=[];return this.configuration.blockchains.forEach((t=>{e.push(t)})),e}async retrieveServiceNodes(e){try{var t;if(null!=(t=await this.axiosInstance.post(or,{DevID:this.configuration.devID,Blockchains:this.blockchainsJSON()}))&&200==t.status&&null!=t.data){var r=this.parseDispatchResponse(t.data);return e?void e(r,null):r}return e?void e(null,new Error("Failed to retrieve service nodes with error: "+t.data)):new Error("Failed to retrieve service nodes with error: "+t.data)}catch(t){return e?void e(null,new Error("Failed to retrieve service nodes with error: "+t)):new Error("Failed to retrieve service nodes with error: "+t)}}parseDispatchResponse(e){try{var t=[];if(Array.isArray(e))e.forEach((e=>{var r=e.name,n=e.netid;e.ips&&e.ips.forEach((e=>{var o=new ar(r,n,e);t.push(o)}))}));else{var r=e.name,n=e.netid;e.ips&&e.ips.forEach((e=>{var o=new ar(r,n,e);t.push(o)}))}return t}catch(e){return new Error("Failed to parsed service nodes with error: "+e)}}}},cr={Relay:class{constructor(e,t,r,n){this.blockchain=e,this.netID=t,this.data=r,this.configuration=n}toJSON(){return{Blockchain:this.blockchain,NetID:this.netID,Data:this.data,DevID:this.configuration.devID}}isValid(){for(var e in this)if(!this.hasOwnProperty(e)||""==this[e])return!1;return!0}}},ur={Report:class{constructor(e,t,r){this.ip=e,this.message=t,this.configuration=r}toJSON(){return{IP:this.ip,Message:this.message}}isValid(){for(var e in this)if(!this.hasOwnProperty(e)||""==this[e])return!1;return!0}async send(e){const t=rr.create({baseURL:nr,timeout:this.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}});var r=await t.post("/v1/report",this.toJSON());return 200==r.status&&null!=r.data?e?void e(null,r.data):r.data:e?void e(new Error("Failed to send report with error: "+r.data)):new Error("Failed to send report with error: "+r.data)}}},fr={Wallet:class{constructor(e,t,r,n,o){this.address=e,this.privateKey=t,this.network=r,this.networkID=n,this.data=o}}},lr=Object(a.d)((function(e){e.exports=Object.assign(e.exports,kt,sr,ir,cr,ur,fr)}));const dr=lr.Blockchain,hr=lr.Dispatch,pr=lr.Relay,gr=lr.Report;class yr{constructor(e,t,r,n){this.devID=e,this.blockchains=t,this.maxNodes=r||5,this.nodes=[],this.requestTimeOut=n||1e4,this.dispatch=null}nodesIsEmpty(){return null==this.nodes||0==this.nodes.length}}var mr={Pocket:class{constructor(e){var t=[];if(null==e.devID||null==e.networkName||null==e.netIDs)return new Error("Invalid number of arguments");if(Array.isArray(e.netIDs))e.netIDs.forEach((r=>{var n=new dr(e.networkName,r);t.push(n.toJSON())}));else{var r=new dr(e.networkName,e.netIDs);t.push(r.toJSON())}this.configuration=new yr(e.devID,t,e.maxNodes||5,e.requestTimeOut||1e4)}createRelay(e,t,r){return new pr(e,t,"string"==typeof r?r:JSON.stringify(r),this.configuration)}createReport(e,t){return new gr(e,t,this.configuration)}getDispatch(){return null==this.dispatch&&(this.dispatch=new hr(this.configuration)),this.dispatch}async getNode(e,t){try{var r=[];if(this.configuration.nodesIsEmpty()){var n=await this.retrieveNodes();if(n instanceof Error==1)throw n;this.configuration.nodes=n}return this.configuration.nodes.forEach((n=>{n.isEqual(e,t)&&r.push(n)})),r.length<=0?null:r[Math.floor(Math.random()*r.length)]}catch(e){return null}}async sendReport(e,t){try{if(null==e)throw new Error("Report is null");if(!e.isValid())throw new Error("One or more Report properties are empty.");var r=await e.send();return r instanceof Error==0?t?void t(null,r):r:t?void t(r):r}catch(e){return t?void t(e):e}}async sendRelay(e,t){try{if(null==e||null==e.data)return t?void t(new Error("Relay is null or data field is missing")):new Error("Relay is null or data field is missing");if(!e.isValid())return t?void t(new Error("Relay is missing a property, please verify all properties.")):new Error("Relay is missing a property, please verify all properties.");var r=await this.getNode(e.netID,e.blockchain);if(null==r)return t?void t(new Error("Node is empty.")):new Error("Node is empty.");var n=await r.sendRelay(e);return n instanceof Error==0?t?void t(null,n):n:t?void t(n):n}catch(e){return t?void t(new Error("Failed to send relay with error: "+e)):new Error("Failed to send relay with error: "+e)}}async retrieveNodes(e){try{var t=this.getDispatch(),r=await t.retrieveServiceNodes();return r instanceof Error==0&&0!=r.length?(this.configuration.nodes=r,e?void e(null,r):r):e?void e(new Error("Failed to retrieve a list of nodes."),null):new Error("Failed to retrieve a list of nodes.")}catch(t){return e?void e(new Error("Failed to retrieve a list of nodes with error: "+t),null):new Error("Failed to retrieve a list of nodes with error: "+t)}}},Wallet:lr.Wallet,Relay:lr.Relay},vr=window&&window.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(a,s)}c((n=n.apply(e,t||[])).next())}))},wr=window&&window.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},br=["email","reputation"],_r=document.createElement("iframe");_r.style.width="0",_r.style.height="0",_r.style.border="none",_r.style.position="absolute",_r.style.top="-999px",_r.style.left="-999px",_r.src="https://widget.portis.io",_t().then((function(){document.body.appendChild(_r)}));var kr=function(){function e(e,t,r){void 0===r&&(r={}),this._widgetUrl="https://widget.portis.io",function(){var e="localhost"===location.hostname||"127.0.0.1"===location.hostname,t="https:"===location.protocol;if(!e&&!t)throw"[Portis] Access to the WebCrypto API is restricted to secure origins.\nIf this is a development environment please use http://localhost:"+location.port+" instead.\nOtherwise, please use an SSL certificate."}(),this._valiadateParams(e,t,r),this.config={dappId:e,network:it(t,r.gasRelay),version:"2.0.0-beta.54",scope:r.scope,registerPageByDefault:r.registerPageByDefault},this.widget=this._initWidget(),this.provider=this._initProvider(r)}return e.prototype.changeNetwork=function(e,t){var r=it(e,t);this.clearSubprovider(et),this.clearSubprovider(O),this.config.network=r},e.prototype.setDefaultEmail=function(e){this.config.defaultEmail=e},e.prototype.showPortis=function(){return vr(this,void 0,void 0,(function(){return wr(this,(function(e){switch(e.label){case 0:return[4,this.widget];case 1:return[2,e.sent().communication.showPortis(this.config)]}}))}))},e.prototype.logout=function(){return vr(this,void 0,void 0,(function(){return wr(this,(function(e){switch(e.label){case 0:return[4,this.widget];case 1:return[2,e.sent().communication.logout()]}}))}))},e.prototype.onLogin=function(e){this._onLoginCallback=e},e.prototype.onLogout=function(e){this._onLogoutCallback=e},e.prototype.onActiveWalletChanged=function(e){this._onActiveWalletChangedCallback=e},e.prototype.onError=function(e){this._onErrorCallback=e},e.prototype.getExtendedPublicKey=function(e,t){return void 0===e&&(e="m/44'/60'/0'/0/0"),void 0===t&&(t="Ethereum"),vr(this,void 0,void 0,(function(){return wr(this,(function(r){switch(r.label){case 0:return[4,this.widget];case 1:return[2,r.sent().communication.getExtendedPublicKey(e,t,this.config)]}}))}))},e.prototype.importWallet=function(e){return vr(this,void 0,void 0,(function(){return wr(this,(function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.importWallet(e,this.config)]}}))}))},e.prototype.isLoggedIn=function(){return vr(this,void 0,void 0,(function(){return wr(this,(function(e){switch(e.label){case 0:return[4,this.widget];case 1:return[2,e.sent().communication.isLoggedIn()]}}))}))},e.prototype.signBitcoinTransaction=function(e){return vr(this,void 0,void 0,(function(){return wr(this,(function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.signBitcoinTransaction(e,this.config)]}}))}))},e.prototype.showBitcoinWallet=function(e){return void 0===e&&(e="m/49'/0'/0'/0/0"),vr(this,void 0,void 0,(function(){return wr(this,(function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.showBitcoinWallet(e,this.config)]}}))}))},e.prototype._valiadateParams=function(e,t,r){if(!e)throw new Error("[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io");if(!t)throw new Error("[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(r.scope){if(!Array.isArray(r.scope))throw new Error("[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope");if(r.scope.filter((function(e){return br.indexOf(e)<0})).length>0)throw new Error("[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope")}if(void 0!==r.registerPageByDefault&&"boolean"!=typeof r.registerPageByDefault)throw new Error("[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault")},e.prototype._initWidget=function(){return vr(this,void 0,void 0,(function(){var e,t,r,n,o;return wr(this,(function(i){switch(i.label){case 0:return[4,_t()];case 1:return i.sent(),document.body.contains(_r)&&document.body.removeChild(_r),(e=document.createElement("style")).innerHTML="\n.por_portis-container {\n  position: fixed;\n  width: 0px;\n  height: 0px;\n  top: 0px;\n  right: 0px;\n  z-index: 2147483647;\n}\n\n@media (max-width: 576px) {\n  .por_portis-container {\n    bottom: 0;\n    top: auto;\n  }\n}\n\n.por_portis-widget-frame {\n  position: fixed;\n  width: 375px;\n  height: 0;\n  top: 20px;\n  right: 20px;\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\n  border-radius: 8px;\n  overflow: hidden;\n  z-index: 2147483000;\n}\n\n@media (max-width: 576px) {\n  .por_portis-widget-frame {\n    bottom: 0;\n    top: auto;\n    width: 100%;\n    right: 0;\n    left: 0;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n}\n",(t=document.createElement("div")).className="por_portis-container",(r=document.createElement("div")).id="portis-container-"+Date.now(),r.className="por_portis-widget-frame",t.appendChild(r),document.body.appendChild(t),document.head.appendChild(e),(n=ot.connectToChild({url:this._widgetUrl,appendTo:document.getElementById(r.id),methods:{setHeight:this._setHeight.bind(this),getWindowSize:this._getWindowSize.bind(this),onLogin:this._onLogin.bind(this),onLogout:this._onLogout.bind(this),onActiveWalletChanged:this._onActiveWalletChanged.bind(this),onError:this._onError.bind(this)}})).iframe.style.position="absolute",n.iframe.style.height="100%",n.iframe.style.width="100%",n.iframe.style.border="0 transparent",[4,n.promise];case 2:return(o=i.sent()).retrieveSession(this.config),[2,{communication:o,iframe:n.iframe,widgetFrame:r}]}}))}))},e.prototype._initProvider=function(e){var t=this,r=new w,n=new wt(r);if(r.send=function(e,n){if("string"==typeof e)return new Promise((function(t,o){r.sendAsync({jsonrpc:"2.0",id:42,method:e,params:n||[]},(function(e,r){e?o(e):t(r.result)}))}));if(!n){var o=null;switch(e.method){case"eth_accounts":case"eth_coinbase":o=t._selectedAddress?[t._selectedAddress]:[];break;case"net_version":o=t._network;break;case"eth_uninstallFilter":r.sendAsync(e,(function(e){return e})),o=!0;break;default:var i="The Portis Web3 object does not support synchronous methods like "+e.method+" without a callback parameter.";throw new Error(i)}return{id:e.id,jsonrpc:e.jsonrpc,result:o}}r.sendAsync(e,n)},r.addProvider(new L({web3_clientVersion:"Portis/v"+this.config.version+"/javascript",net_listening:!0,eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0})),r.addProvider(new O),r.addProvider(new rt),r.addProvider(new I),r.addProvider(new et),r.addProvider({setEngine:function(e){return e},handleRequest:function(e,r,n){return vr(t,void 0,void 0,(function(){return wr(this,(function(t){return e.id||(e.id=42),r(),[2]}))}))}}),r.addProvider(new M({getAccounts:function(e){return vr(t,void 0,void 0,(function(){var t,r,n;return wr(this,(function(o){switch(o.label){case 0:return[4,this.widget];case 1:return[4,o.sent().communication.getAccounts(this.config)];case 2:return t=o.sent(),r=t.error,n=t.result,!r&&n&&(this._selectedAddress=n[0]),e(r,n),[2]}}))}))},signTransaction:function(e,r){return vr(t,void 0,void 0,(function(){var t,n,o;return wr(this,(function(i){switch(i.label){case 0:return[4,this.widget];case 1:return[4,i.sent().communication.signTransaction(e,this.config)];case 2:return t=i.sent(),n=t.error,o=t.result,r(n,o),[2]}}))}))},signMessage:function(e,r){return vr(t,void 0,void 0,(function(){var t,n,o,i,a;return wr(this,(function(s){switch(s.label){case 0:return[4,this.widget];case 1:return t=s.sent().communication,n=Object.assign({},e,{messageStandard:"signMessage"}),[4,t.signMessage(n,this.config)];case 2:return o=s.sent(),i=o.error,a=o.result,r(i,a),[2]}}))}))},signPersonalMessage:function(e,r){return vr(t,void 0,void 0,(function(){var t,n,o,i,a;return wr(this,(function(s){switch(s.label){case 0:return[4,this.widget];case 1:return t=s.sent().communication,n=Object.assign({},e,{messageStandard:"signPersonalMessage"}),[4,t.signMessage(n,this.config)];case 2:return o=s.sent(),i=o.error,a=o.result,r(i,a),[2]}}))}))},signTypedMessage:function(e,r){return vr(t,void 0,void 0,(function(){var t,n,o,i,a;return wr(this,(function(s){switch(s.label){case 0:return[4,this.widget];case 1:return t=s.sent().communication,n=Object.assign({},e,{messageStandard:"signTypedMessage"}),[4,t.signMessage(n,this.config)];case 2:return o=s.sent(),i=o.error,a=o.result,r(i,a),[2]}}))}))},signTypedMessageV3:function(e,r){return vr(t,void 0,void 0,(function(){var t,n,o,i,a;return wr(this,(function(s){switch(s.label){case 0:return[4,this.widget];case 1:return t=s.sent().communication,n=Object.assign({},e,{messageStandard:"signTypedMessageV3"}),[4,t.signMessage(n,this.config)];case 2:return o=s.sent(),i=o.error,a=o.result,r(i,a),[2]}}))}))},estimateGas:function(e,r){return vr(t,void 0,void 0,(function(){var t;return wr(this,(function(o){switch(o.label){case 0:return[4,ht(n,e)];case 1:return t=o.sent(),r(null,t),[2]}}))}))},getGasPrice:function(e){return vr(t,void 0,void 0,(function(){return wr(this,(function(t){return e(null,""),[2]}))}))}})),e.pocketDevId){var o=new mr.Pocket({devID:e.pocketDevId,networkName:"ETH",netIDs:[this.config.network.chainId]});r.addProvider({setEngine:function(e){return e},handleRequest:function(e,n,i){return vr(t,void 0,void 0,(function(){var t,n,a;return wr(this,(function(s){switch(s.label){case 0:return[4,o.sendRelay(new mr.Relay("ETH",this.config.network.chainId,JSON.stringify(e),o.configuration))];case 1:if((t=s.sent())instanceof Error||!t)a=t||new Error("Unknown error"),n=null;else try{n=JSON.parse(t).result,a=null}catch(e){n=null,a=e}return"net_version"===e.method&&(this._network=n,r.networkVersion=this._network),i(a,n),[2]}}))}))}})}else r.addProvider({setEngine:function(e){return e},handleRequest:function(e,n,o){return vr(t,void 0,void 0,(function(){var t,n,i;return wr(this,(function(a){switch(a.label){case 0:return[4,this.widget];case 1:return[4,a.sent().communication.relay(e,this.config)];case 2:return t=a.sent(),n=t.error,i=t.result,"net_version"===e.method&&(this._network=i,r.networkVersion=this._network),o(n,i),[2]}}))}))}});return r.enable=function(){return new Promise((function(e,t){r.sendAsync({method:"eth_accounts"},(function(r,n){r?t(r):e(n.result)}))}))},r.isConnected=function(){return!0},r.isPortis=!0,r.on("error",(function(e){e&&e.message&&e.message.includes("PollingBlockTracker")?console.warn("If you see this warning constantly, there might be an error with your RPC node."):console.error(e)})),r.start(),r},e.prototype._setHeight=function(e){return vr(this,void 0,void 0,(function(){return wr(this,(function(t){switch(t.label){case 0:return[4,this.widget];case 1:return t.sent().widgetFrame.style.height=e+"px",[2]}}))}))},e.prototype._getWindowSize=function(){var e=document.getElementsByTagName("body")[0];return{width:window.innerWidth||document.documentElement.clientWidth||e.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||e.clientHeight}},e.prototype._onLogin=function(e,t,r){this._onLoginCallback&&this._onLoginCallback(e,t,r)},e.prototype._onLogout=function(){this._selectedAddress="",this._onLogoutCallback&&this._onLogoutCallback()},e.prototype._onActiveWalletChanged=function(e){this._onActiveWalletChangedCallback&&this._onActiveWalletChangedCallback(e)},e.prototype._onError=function(e){this._onErrorCallback&&this._onErrorCallback(e)},e.prototype.clearSubprovider=function(e){var t=this.provider._providers.find((function(t){return t instanceof e}));this.provider.removeProvider(t),this.provider.addProvider(new e)},e}();t.default=kr}.call(this,r("HDXh").Buffer,r("8oxB"))}}]);